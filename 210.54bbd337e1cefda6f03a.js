"use strict";(self.webpackChunkLab_aguas_cunoc=self.webpackChunkLab_aguas_cunoc||[]).push([[210],{8210:(F,s,r)=>{r.r(s),r.d(s,{ConfiguracionModule:()=>_});var l=r(8583),e=r(665),u=r(8295),Z=r(7441),f=r(2613),g=r(9983),m=r(9516),o=r(3018),p=r(1537),T=r(9344);function b(n,a){if(1&n){const t=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o.TgZ(8,"div",36),o.TgZ(9,"button",37),o._UZ(10,"i",38),o.qZA(),o.TgZ(11,"button",39),o.NdJ("click",function(){const d=o.CHM(t).$implicit;return o.oxw().modalEditar(d)}),o._UZ(12,"i",40),o.qZA(),o.TgZ(13,"button",41),o.NdJ("click",function(){const d=o.CHM(t).$implicit;return o.oxw().modalEditar(d)}),o._UZ(14,"i",42),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const t=a.$implicit;o.xp6(2),o.Oqu(t.tipo),o.xp6(2),o.Oqu(t.descripcion),o.xp6(2),o.Oqu(t.valor)}}function q(n,a){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Por favor ingresar tipo de configuraci\xf3n"),o.qZA())}function A(n,a){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Por favor ingrese un valor"),o.qZA())}function C(n,a){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Por favor ingrese descripci\xf3n de la configuraci\xf3n"),o.qZA())}const v=[{path:"index",component:(()=>{class n{constructor(t,i,c){this.configuracionService=t,this.fb=i,this.toastr=c,this.btn_disabled=!1,this.configuraciones=[],this.accion="Nuevo cliente",this.configuracionForm=this.fb.group({tipo:["",e.kI.required],descripcion:["",e.kI.required],valor:["",e.kI.required],id:["0"]})}ngOnInit(){this.loadClientes()}loadClientes(){this.configuracionService.getConfiguraciones().subscribe(t=>{this.configuraciones=t.body})}modalNuevo(){this.accion="Nueva configuraci\xf3n",this.configuracionForm.reset()}modalEditar(t){this.accion="Editar configuraci\xf3n",this.configuracionForm.controls.tipo.setValue(t.tipo),this.configuracionForm.controls.descripcion.setValue(t.descripcion),this.configuracionForm.controls.id.setValue(t.id),this.configuracionForm.controls.valor.setValue(t.valor)}onSubmit(){this.btn_disabled=!0,this.configuracionService.storeConfiguracion(this.configuracionForm.value).subscribe(t=>{200==t.status&&(this.toastr.success(t.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes(),setTimeout(()=>{this.btn_disabled=!1},2e3))},t=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(t.error.message,"ERROR")})}eliminarCliente(t){this.configuracionService.deleteConfiguracion(t).subscribe(i=>{200==i.status&&(this.toastr.success(i.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes()),i.success&&(this.toastr.success(i.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes())},i=>{this.toastr.error(i.error.message,"ERROR")})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.P),o.Y36(e.qu),o.Y36(T._W))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-index-configuracion"]],decls:96,vars:12,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-8","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","tipo","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-4","mb-1"],["matInput","","type","text","placeholder","","formControlName","valor","required","",1,"example-right-align"],[1,"col-md-12","mb-1"],["matInput","","type","text","placeholder","","formControlName","descripcion","required","",1,"example-right-align"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h5",3),o._uU(4,"Listado de configuraciones"),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"button",5),o.NdJ("click",function(){return i.modalNuevo()}),o._uU(7," Nuevo "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",6),o.TgZ(9,"table",7),o.TgZ(10,"thead"),o.TgZ(11,"tr"),o.TgZ(12,"th"),o._uU(13,"Tipo"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Descripci\xf3n"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Valor"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Acciones"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"tbody"),o.YNc(21,b,15,3,"tr",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",9),o.TgZ(23,"div",10),o.TgZ(24,"div",11),o.TgZ(25,"div",12),o.TgZ(26,"h4",13),o._uU(27),o.qZA(),o.TgZ(28,"button",14),o.TgZ(29,"span",15),o._uU(30,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"form",16),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(32,"div",17),o._UZ(33,"input",18),o.TgZ(34,"div",19),o.TgZ(35,"div",20),o.TgZ(36,"small",21),o._uU(37,"* Campos obligatorios"),o.qZA(),o.qZA(),o._UZ(38,"hr"),o.TgZ(39,"div",22),o.TgZ(40,"mat-form-field",23),o.TgZ(41,"mat-label"),o._uU(42,"Tipo"),o.qZA(),o._UZ(43,"input",24),o.YNc(44,q,2,0,"mat-error",25),o.qZA(),o.qZA(),o.TgZ(45,"div",26),o.TgZ(46,"mat-form-field",23),o.TgZ(47,"mat-label"),o._uU(48,"Valor"),o.qZA(),o._UZ(49,"input",27),o.YNc(50,A,2,0,"mat-error",25),o.qZA(),o.qZA(),o.TgZ(51,"div",28),o.TgZ(52,"mat-form-field",23),o.TgZ(53,"mat-label"),o._uU(54,"Descripci\xf3n"),o.qZA(),o._UZ(55,"input",29),o.YNc(56,C,2,0,"mat-error",25),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",30),o.TgZ(58,"button",31),o._uU(59,"Cerrar"),o.qZA(),o.TgZ(60,"button",32),o._uU(61,"Guardar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(62,"div",33),o.TgZ(63,"div",10),o.TgZ(64,"div",11),o.TgZ(65,"div",12),o.TgZ(66,"h4",13),o._uU(67,"Eliminar registro"),o.qZA(),o.TgZ(68,"button",14),o.TgZ(69,"span",15),o._uU(70,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(71,"div",17),o.TgZ(72,"div",34),o.TgZ(73,"h3"),o._uU(74,"Est\xe1 seguro de eliminar el registro?"),o.qZA(),o.TgZ(75,"p"),o._uU(76,"Tipo: "),o.TgZ(77,"b"),o._uU(78),o.qZA(),o.qZA(),o.TgZ(79,"p"),o._uU(80,"Descripci\xf3n: "),o.TgZ(81,"b"),o._uU(82),o.qZA(),o.qZA(),o.TgZ(83,"p"),o._uU(84,"Valor: "),o.TgZ(85,"b"),o._uU(86),o.qZA(),o.qZA(),o._UZ(87,"hr"),o._UZ(88,"br"),o.TgZ(89,"b"),o._uU(90,"Esta acci\xf3n no se puede deshacer!!"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(91,"div",30),o.TgZ(92,"button",31),o._uU(93,"Cerrar"),o.qZA(),o.TgZ(94,"button",35),o.NdJ("click",function(){return i.eliminarCliente(i.configuracionForm.controls.id.value)}),o._uU(95,"Eliminar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(21),o.Q6J("ngForOf",i.configuraciones),o.xp6(6),o.Oqu(i.accion),o.xp6(4),o.Udp("font-size",15,"px"),o.Q6J("formGroup",i.configuracionForm),o.xp6(13),o.Q6J("ngIf",null==i.configuracionForm.get("tipo").errors?null:i.configuracionForm.get("tipo").errors.required),o.xp6(6),o.Q6J("ngIf",null==i.configuracionForm.get("valor").errors?null:i.configuracionForm.get("valor").errors.required),o.xp6(6),o.Q6J("ngIf",null==i.configuracionForm.get("descripcion").errors?null:i.configuracionForm.get("descripcion").errors.required),o.xp6(4),o.Q6J("disabled",!i.configuracionForm.valid||i.btn_disabled),o.xp6(18),o.Oqu(i.configuracionForm.controls.tipo.value),o.xp6(4),o.Oqu(i.configuracionForm.controls.descripcion.value),o.xp6(4),o.Oqu(i.configuracionForm.controls.valor.value))},directives:[l.sg,e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,u.KE,u.hX,g.Nt,e.Q7,l.O5,u.TO],styles:[""]}),n})()},{path:"**",redirectTo:"index"}];let h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[m.Bz.forChild(v)],m.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[l.ez,h,e.u5,e.UX,g.c,u.lN,Z.LD,f.Fk]]}),n})()}}]);