"use strict";(self.webpackChunkLab_aguas_cunoc=self.webpackChunkLab_aguas_cunoc||[]).push([[939],{939:(pe,_,u)=>{u.r(_),u.d(_,{InventarioModule:()=>Ze});var m=u(8583),p=u(9516),a=u(665),e=u(3018),b=u(996),q=u(1841);let Z=(()=>{class r extends b.O{constructor(t){super(t),this.http=t,this.url={inventario:"inventario",proveedor:"proveedor",categoria:"categoria-reactivo",area:"area-reactivo",reactivo:"reactivo",compra:"compra",lote:"lote-reactivo",salida:"salida"}}getProveedores(t){return this.get(this.url.proveedor,t)}getCategorias(t){return this.get(this.url.categoria,t)}getAreas(t){return this.get(this.url.area,t)}getReactivos(t){return this.get(this.url.reactivo,t)}getCompras(t){return this.get(this.url.compra,t)}getLotes(t){return this.get(this.url.lote,t)}getSalidas(t){return this.get(this.url.salida,t)}getProveedor(t,o){return this.get(this.url.proveedor+"/"+t+"/show",o)}getCategoria(t,o){return this.get(this.url.categoria+"/"+t+"/show",o)}getArea(t,o){return this.get(this.url.area+"/"+t+"/show",o)}getReactivo(t,o){return this.get(this.url.reactivo+"/"+t+"/show",o)}getCompra(t,o){return this.get(this.url.compra+"/"+t+"/show",o)}getLote(t,o){return this.get(this.url.lote+"/"+t+"/show",o)}getSalida(t,o){return this.get(this.url.salida+"/"+t+"/show",o)}storeProveedor(t){return this.post(this.url.proveedor,t)}storeCategoria(t){return this.post(this.url.categoria,t)}storeArea(t){return this.post(this.url.area,t)}storeReactivo(t){return this.post(this.url.reactivo,t)}storeCompra(t){return this.post(this.url.compra,t)}storeLote(t){return this.post(this.url.lote,t)}storeSalida(t){return this.post(this.url.salida,t)}deleteProveedor(t,o){return this.delete(this.url.proveedor+"/"+t,o)}deleteCategoria(t,o){return this.delete(this.url.categoria+"/"+t,o)}deleteArea(t,o){return this.delete(this.url.area+"/"+t,o)}deleteReactivo(t,o){return this.delete(this.url.reactivo+"/"+t,o)}deleteCompra(t,o){return this.delete(this.url.compra+"/"+t,o)}deleteLote(t,o){return this.delete(this.url.lote+"/"+t,o)}deleteSalida(t,o){return this.delete(this.url.salida+"/"+t,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var g=u(9344),s=u(8295),c=u(9983);function T(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"div",41),e.TgZ(13,"button",42),e._UZ(14,"i",43),e.qZA(),e.TgZ(15,"button",44),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(16,"i",45),e.qZA(),e.TgZ(17,"button",46),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(18,"i",47),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.telefono),e.xp6(2),e.Oqu(t.correo),e.xp6(2),e.Oqu(t.direccion),e.xp6(2),e.Oqu(t.ubicacion)}}function v(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar nombre del proveedor"),e.qZA())}function A(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese direcci\xf3n"),e.qZA())}function h(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar correo electr\xf3nico"),e.qZA())}function f(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese n\xfamero de tel\xe9fono"),e.qZA())}function U(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Correo electr\xf3nico no v\xe1lido"),e.qZA())}let C=(()=>{class r{constructor(t,o,i){this.inventarioService=t,this.fb=o,this.toastr=i,this.btn_disabled=!1,this.proveedores=[],this.accion="Nuevo proveedor",this.proveedorForm=this.fb.group({nombre:["",a.kI.required],telefono:["",a.kI.required],direccion:["",a.kI.required],correo:["",a.kI.email],ubicacion:["",a.kI.required],contacto:[""],id:["0"]})}ngOnInit(){this.loadProveedores()}loadProveedores(){this.inventarioService.getProveedores().subscribe(t=>{this.proveedores=t.body})}modalNuevo(){this.accion="Nuevo proveedor",this.proveedorForm.reset()}modalEditar(t){this.accion="Editar proveedor",this.proveedorForm.controls.nombre.setValue(t.nombre),this.proveedorForm.controls.id.setValue(t.id),this.proveedorForm.controls.telefono.setValue(t.telefono),this.proveedorForm.controls.direccion.setValue(t.direccion),this.proveedorForm.controls.correo.setValue(t.correo),this.proveedorForm.controls.ubicacion.setValue(t.ubicacion),this.proveedorForm.controls.contacto.setValue(t.contacto)}onSubmit(){this.btn_disabled=!0,this.inventarioService.storeProveedor(this.proveedorForm.value).subscribe(t=>{200==t.status&&(this.toastr.success(t.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadProveedores(),setTimeout(()=>{this.btn_disabled=!1},2e3))},t=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(t.error.message,"ERROR")})}eliminarProveedor(t){this.inventarioService.deleteProveedor(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadProveedores()),o.success&&(this.toastr.success(o.message||"Operaci\xf3n completada","SUCCESS"),this.loadProveedores())},o=>{this.toastr.error(o.error.message,"ERROR")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(a.qu),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-index-proveedor"]],decls:117,vars:14,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-12","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","nombre","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-7","mb-1"],["matInput","","type","text","placeholder","","formControlName","direccion","required","",1,"example-right-align"],[1,"col-md-5","mb-1"],["matInput","","type","email","placeholder","Quetzaltenango","formControlName","ubicacion","required","",1,"example-right-align"],[1,"col-md-4","mb-1"],["matInput","","type","text","placeholder","","formControlName","telefono","required","",1,"example-right-align"],[1,"col-md-8","mb-1"],["matInput","","type","email","placeholder","example@gmail.com","formControlName","correo",1,"example-right-align"],["matInput","","type","text","placeholder","","formControlName","contacto",1,"example-right-align"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de Proveedores"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.modalNuevo()}),e._uU(7," Nuevo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Tel\xe9fono"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Correo"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Direccion"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Ubicaci\xf3n"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"tbody"),e.YNc(25,T,19,5,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",9),e.TgZ(27,"div",10),e.TgZ(28,"div",11),e.TgZ(29,"div",12),e.TgZ(30,"h4",13),e._uU(31),e.qZA(),e.TgZ(32,"button",14),e.TgZ(33,"span",15),e._uU(34,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"form",16),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(36,"div",17),e._UZ(37,"input",18),e.TgZ(38,"div",19),e.TgZ(39,"div",20),e.TgZ(40,"small",21),e._uU(41,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(42,"hr"),e.TgZ(43,"div",22),e.TgZ(44,"mat-form-field",23),e.TgZ(45,"mat-label"),e._uU(46,"Nombre"),e.qZA(),e._UZ(47,"input",24),e.YNc(48,v,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(49,"div",26),e.TgZ(50,"mat-form-field",23),e.TgZ(51,"mat-label"),e._uU(52,"Direcci\xf3n"),e.qZA(),e._UZ(53,"input",27),e.YNc(54,A,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(55,"div",28),e.TgZ(56,"mat-form-field",23),e.TgZ(57,"mat-label"),e._uU(58,"Ubicaci\xf3n"),e.qZA(),e._UZ(59,"input",29),e.YNc(60,h,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(61,"div",30),e.TgZ(62,"mat-form-field",23),e.TgZ(63,"mat-label"),e._uU(64,"Tel\xe9fono"),e.qZA(),e._UZ(65,"input",31),e.YNc(66,f,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(67,"div",32),e.TgZ(68,"mat-form-field",23),e.TgZ(69,"mat-label"),e._uU(70,"Correo electr\xf3nico"),e.qZA(),e._UZ(71,"input",33),e.YNc(72,U,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(73,"div",32),e.TgZ(74,"mat-form-field",23),e.TgZ(75,"mat-label"),e._uU(76,"Cont\xe1cto"),e.qZA(),e._UZ(77,"input",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"div",35),e.TgZ(79,"button",36),e._uU(80,"Cerrar"),e.qZA(),e.TgZ(81,"button",37),e._uU(82,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",38),e.TgZ(84,"div",10),e.TgZ(85,"div",11),e.TgZ(86,"div",12),e.TgZ(87,"h4",13),e._uU(88,"Eliminar registro"),e.qZA(),e.TgZ(89,"button",14),e.TgZ(90,"span",15),e._uU(91,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(92,"div",17),e.TgZ(93,"div",39),e.TgZ(94,"h3"),e._uU(95,"Est\xe1 seguro de eliminar el registro?"),e.qZA(),e.TgZ(96,"p"),e._uU(97,"Nombre: "),e.TgZ(98,"b"),e._uU(99),e.qZA(),e.qZA(),e.TgZ(100,"p"),e._uU(101,"Direcci\xf3n: "),e.TgZ(102,"b"),e._uU(103),e.qZA(),e.qZA(),e.TgZ(104,"p"),e._uU(105,"Ubicaci\xf3n: "),e.TgZ(106,"b"),e._uU(107),e.qZA(),e.qZA(),e._UZ(108,"hr"),e._UZ(109,"br"),e.TgZ(110,"b"),e._uU(111,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"div",35),e.TgZ(113,"button",36),e._uU(114,"Cerrar"),e.qZA(),e.TgZ(115,"button",40),e.NdJ("click",function(){return o.eliminarProveedor(o.proveedorForm.controls.id.value)}),e._uU(116,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(25),e.Q6J("ngForOf",o.proveedores),e.xp6(6),e.Oqu(o.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.proveedorForm),e.xp6(13),e.Q6J("ngIf",null==o.proveedorForm.get("nombre").errors?null:o.proveedorForm.get("nombre").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.proveedorForm.get("direccion").errors?null:o.proveedorForm.get("direccion").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.proveedorForm.get("ubicacion").errors?null:o.proveedorForm.get("ubicacion").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.proveedorForm.get("telefono").errors?null:o.proveedorForm.get("telefono").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.proveedorForm.get("correo").errors?null:o.proveedorForm.get("correo").errors.email),e.xp6(9),e.Q6J("disabled",!o.proveedorForm.valid||o.btn_disabled),e.xp6(18),e.Oqu(o.proveedorForm.controls.nombre.value),e.xp6(4),e.Oqu(o.proveedorForm.controls.direccion.value),e.xp6(4),e.Oqu(o.proveedorForm.controls.ubicacion.value))},directives:[m.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.KE,s.hX,c.Nt,a.Q7,m.O5,s.TO],styles:[""]}),r})();function x(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"div",36),e.TgZ(9,"button",37),e._UZ(10,"i",38),e.qZA(),e.TgZ(11,"button",39),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(12,"i",40),e.qZA(),e.TgZ(13,"button",41),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(14,"i",42),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.descripcion),e.xp6(2),e.Oqu(t.codigo)}}function F(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar nombre del proveedor"),e.qZA())}function I(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese direcci\xf3n"),e.qZA())}let y=(()=>{class r{constructor(t,o,i){this.inventarioService=t,this.fb=o,this.toastr=i,this.btn_disabled=!1,this.categorias=[],this.accion="Nuevo proveedor",this.categoriaForm=this.fb.group({nombre:["",a.kI.required],descripcion:["",a.kI.required],codigo:[""],id:["0"]})}ngOnInit(){this.loadCategorias()}loadCategorias(){this.inventarioService.getCategorias().subscribe(t=>{this.categorias=t.body})}modalNuevo(){this.accion="Nueva categor\xeda",this.categoriaForm.reset()}modalEditar(t){this.accion="Editar categoria",this.categoriaForm.controls.nombre.setValue(t.nombre),this.categoriaForm.controls.id.setValue(t.id),this.categoriaForm.controls.descripcion.setValue(t.descripcion),this.categoriaForm.controls.codigo.setValue(t.codigo)}onSubmit(){this.btn_disabled=!0,this.inventarioService.storeCategoria(this.categoriaForm.value).subscribe(t=>{200==t.status&&(this.toastr.success(t.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadCategorias(),setTimeout(()=>{this.btn_disabled=!1},2e3))},t=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(t.error.message,"ERROR")})}eliminarCategoria(t){this.inventarioService.deleteCategoria(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadCategorias()),o.success&&(this.toastr.success(o.message||"Operaci\xf3n completada","SUCCESS"),this.loadCategorias())},o=>{this.toastr.error(o.error.message,"ERROR")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(a.qu),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-index-categoria"]],decls:95,vars:11,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-7","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","nombre","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-5","mb-1"],["matInput","","type","email","placeholder","","formControlName","codigo",1,"example-right-align"],[1,"col-md-12","mb-1"],["matInput","","type","text","placeholder","","formControlName","descripcion","required","",1,"example-right-align"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de Categor\xedas de reactivos"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.modalNuevo()}),e._uU(7," Nuevo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Descripci\xf3n"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Codigo"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,x,15,3,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",9),e.TgZ(23,"div",10),e.TgZ(24,"div",11),e.TgZ(25,"div",12),e.TgZ(26,"h4",13),e._uU(27),e.qZA(),e.TgZ(28,"button",14),e.TgZ(29,"span",15),e._uU(30,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"form",16),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(32,"div",17),e._UZ(33,"input",18),e.TgZ(34,"div",19),e.TgZ(35,"div",20),e.TgZ(36,"small",21),e._uU(37,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(38,"hr"),e.TgZ(39,"div",22),e.TgZ(40,"mat-form-field",23),e.TgZ(41,"mat-label"),e._uU(42,"Nombre"),e.qZA(),e._UZ(43,"input",24),e.YNc(44,F,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(45,"div",26),e.TgZ(46,"mat-form-field",23),e.TgZ(47,"mat-label"),e._uU(48,"C\xf3digo"),e.qZA(),e._UZ(49,"input",27),e.qZA(),e.qZA(),e.TgZ(50,"div",28),e.TgZ(51,"mat-form-field",23),e.TgZ(52,"mat-label"),e._uU(53,"Descripci\xf3n"),e.qZA(),e._UZ(54,"input",29),e.YNc(55,I,2,0,"mat-error",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",30),e.TgZ(57,"button",31),e._uU(58,"Cerrar"),e.qZA(),e.TgZ(59,"button",32),e._uU(60,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",33),e.TgZ(62,"div",10),e.TgZ(63,"div",11),e.TgZ(64,"div",12),e.TgZ(65,"h4",13),e._uU(66,"Eliminar registro"),e.qZA(),e.TgZ(67,"button",14),e.TgZ(68,"span",15),e._uU(69,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",17),e.TgZ(71,"div",34),e.TgZ(72,"h3"),e._uU(73,"Est\xe1 seguro de eliminar el registro?"),e.qZA(),e.TgZ(74,"p"),e._uU(75,"Nombre: "),e.TgZ(76,"b"),e._uU(77),e.qZA(),e.qZA(),e.TgZ(78,"p"),e._uU(79,"Descripci\xf3n: "),e.TgZ(80,"b"),e._uU(81),e.qZA(),e.qZA(),e.TgZ(82,"p"),e._uU(83,"C\xf3digo: "),e.TgZ(84,"b"),e._uU(85),e.qZA(),e.qZA(),e._UZ(86,"hr"),e._UZ(87,"br"),e.TgZ(88,"b"),e._uU(89,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(90,"div",30),e.TgZ(91,"button",31),e._uU(92,"Cerrar"),e.qZA(),e.TgZ(93,"button",35),e.NdJ("click",function(){return o.eliminarCategoria(o.categoriaForm.controls.id.value)}),e._uU(94,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngForOf",o.categorias),e.xp6(6),e.Oqu(o.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.categoriaForm),e.xp6(13),e.Q6J("ngIf",null==o.categoriaForm.get("nombre").errors?null:o.categoriaForm.get("nombre").errors.required),e.xp6(11),e.Q6J("ngIf",null==o.categoriaForm.get("descripcion").errors?null:o.categoriaForm.get("descripcion").errors.required),e.xp6(4),e.Q6J("disabled",!o.categoriaForm.valid||o.btn_disabled),e.xp6(18),e.Oqu(o.categoriaForm.controls.nombre.value),e.xp6(4),e.Oqu(o.categoriaForm.controls.descripcion.value),e.xp6(4),e.Oqu(o.categoriaForm.controls.codigo.value))},directives:[m.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.KE,s.hX,c.Nt,a.Q7,m.O5,s.TO],styles:[""]}),r})();function N(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e.TgZ(22,"div",49),e.TgZ(23,"button",50),e._UZ(24,"i",51),e.qZA(),e.TgZ(25,"button",52),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(26,"i",53),e.qZA(),e.TgZ(27,"button",54),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(28,"i",55),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.marca),e.xp6(2),e.Oqu(t.cantidad),e.xp6(2),e.Oqu(t.unidad),e.xp6(2),e.Oqu(t.cas),e.xp6(2),e.Oqu(t.riesgo),e.xp6(2),e.Oqu("1"==t.tipo?"KIT":"UNIDAD"),e.xp6(2),e.Oqu(t.hoja_seguridad),e.xp6(2),e.Oqu(t.categoria),e.xp6(2),e.Oqu(t.area)}}function O(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar nombre del reactivo"),e.qZA())}function S(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese marca"),e.qZA())}function E(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar n\xfamero CAS."),e.qZA())}function J(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese riesgo"),e.qZA())}function R(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese cantidad de paquetes"),e.qZA())}function k(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese unidad"),e.qZA())}function Q(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese cantidad"),e.qZA())}function Y(r,n){if(1&r&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("value",t.id)("selected",t.id==o.reactivoForm.controls.categoria_id.value),e.xp6(1),e.hij("",t.nombre," ")}}function P(r,n){if(1&r&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("value",t.id)("selected",t.id==o.reactivoForm.controls.area_id.value),e.xp6(1),e.hij("",t.nombre," ")}}function w(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"div",32),e.TgZ(5,"button",33),e._UZ(6,"i",34),e.qZA(),e.TgZ(7,"button",35),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(8,"i",36),e.qZA(),e.TgZ(9,"button",37),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(10,"i",38),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.nombre)}}function j(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar nombre del proveedor"),e.qZA())}const D=function(r){return["/muestra/estudio",r]};function M(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"div",61),e._UZ(16,"div",62),e.qZA(),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"div",63),e.TgZ(19,"button",64),e.TgZ(20,"i",65),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalDetalle(d)}),e.qZA(),e.qZA(),e.TgZ(21,"button",66),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(22,"i",67),e.qZA(),e.TgZ(23,"button",68),e._UZ(24,"i",69),e.qZA(),e.TgZ(25,"button",70),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEliminar(d)}),e._UZ(26,"i",71),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(e.xi3(5,9,t.fecha,"dd-MM-yyyy")),e.xp6(3),e.Oqu(t.hora),e.xp6(2),e.Oqu(t.factura),e.xp6(2),e.Oqu(t.proveedor),e.xp6(3),e.hij("",t.entregados+" de "+t.total," "),e.xp6(2),e.Udp("width",75,"%"),e.xp6(7),e.Q6J("routerLink",e.VKq(12,D,t.id))}}function G(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar fecha"),e.qZA())}function $(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar una hora"),e.qZA())}function z(r,n){if(1&r&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.nombre," ")}}function H(r,n){if(1&r&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.nombre," ")}}function X(r,n){1&r&&(e.TgZ(0,"span",76),e._uU(1,"ENTREGADO"),e.qZA())}function K(r,n){1&r&&(e.TgZ(0,"span",77),e._uU(1,"NO ENTREGADO"),e.qZA())}function B(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.YNc(13,X,2,0,"span",74),e.YNc(14,K,2,0,"span",75),e.qZA(),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.reactivo),e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.Oqu(e.xi3(7,7,t.fecha_vencimiento,"dd-MM-yyyy")),e.xp6(3),e.Oqu(t.cantidad),e.xp6(2),e.Oqu(t.precio),e.xp6(2),e.Q6J("ngIf",1==t.estado),e.xp6(1),e.Q6J("ngIf",0==t.estado)}}function W(r,n){if(1&r&&(e.TgZ(0,"table",73),e.TgZ(1,"thead"),e.TgZ(2,"th"),e._uU(3," REACTIVO "),e.qZA(),e.TgZ(4,"th"),e._uU(5," Numero de lote "),e.qZA(),e.TgZ(6,"th"),e._uU(7," Fecha Vencimiento "),e.qZA(),e.TgZ(8,"th"),e._uU(9," Cantidad "),e.qZA(),e.TgZ(10,"th"),e._uU(11," Precio "),e.qZA(),e.TgZ(12,"th"),e._uU(13," Estado "),e.qZA(),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,B,15,10,"tr",8),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.lote_reactivos)}}function ee(r,n){1&r&&(e.TgZ(0,"span",76),e._uU(1,"ENTREGADO"),e.qZA())}function te(r,n){1&r&&(e.TgZ(0,"span",77),e._uU(1,"NO ENTREGADO"),e.qZA())}function oe(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.YNc(13,ee,2,0,"span",74),e.YNc(14,te,2,0,"span",75),e.qZA(),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.reactivo),e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.Oqu(e.xi3(7,7,t.fecha_vencimiento,"dd-MM-yyyy")),e.xp6(3),e.Oqu(t.cantidad),e.xp6(2),e.Oqu(t.precio),e.xp6(2),e.Q6J("ngIf",1==t.estado),e.xp6(1),e.Q6J("ngIf",0==t.estado)}}function re(r,n){if(1&r&&(e.TgZ(0,"table",73),e.TgZ(1,"thead"),e.TgZ(2,"th"),e._uU(3," REACTIVO "),e.qZA(),e.TgZ(4,"th"),e._uU(5," Numero de lote "),e.qZA(),e.TgZ(6,"th"),e._uU(7," Fecha Vencimiento "),e.qZA(),e.TgZ(8,"th"),e._uU(9," Cantidad "),e.qZA(),e.TgZ(10,"th"),e._uU(11," Precio "),e.qZA(),e.TgZ(12,"th"),e._uU(13," Estado "),e.qZA(),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,oe,15,10,"tr",8),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.lotes_detalle)}}const ie=function(r,n,t){return{"badge-danger":r,"badge-warning":n,"badge-success":t}};function ne(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"span",46),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e.TgZ(21,"div",47),e.TgZ(22,"button",48),e._UZ(23,"i",49),e.qZA(),e.TgZ(24,"button",50),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().modalEditar(d)}),e._UZ(25,"i",51),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.Oqu(t.reactivo),e.xp6(2),e.hij("Q. ",t.precio,""),e.xp6(2),e.Oqu(t.cantidad-t.utilizados),e.xp6(2),e.Oqu(t.utilizados),e.xp6(2),e.Oqu(e.xi3(13,9,t.fecha_vencimiento,"dd-MM-yyyy")),e.xp6(3),e.Q6J("ngClass",e.kEZ(12,ie,"ALTO"==t.alerta,"MEDIO"==t.alerta,"BAJO"==t.alerta)),e.xp6(2),e.Oqu(t.alerta),e.xp6(2),e.Oqu(t.proveedor)}}function de(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar fecha"),e.qZA())}function se(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar cantidad"),e.qZA())}const le=[{path:"index",component:(()=>{class r{constructor(t,o,i){this.inventarioService=t,this.fb=o,this.toastr=i,this.btn_disabled=!1,this.reactivos=[],this.accion="Nuevo proveedor",this.categorias=[],this.areas=[],this.reactivoForm=this.fb.group({nombre:["",a.kI.required],marca:["",a.kI.required],cas:[""],riesgo:[""],tipo:["",a.kI.required],cantidad:[0,a.kI.required],unidad:["",a.kI.required],hoja_seguridad:[""],categoria_id:["",a.kI.required],area_id:["",a.kI.required],id:["0"]})}ngOnInit(){this.inventarioService.getAreas().subscribe(t=>{this.areas=t.body}),this.inventarioService.getCategorias().subscribe(t=>{this.categorias=t.body}),this.loadReactivos()}loadReactivos(){this.inventarioService.getReactivos().subscribe(t=>{this.reactivos=t.body})}modalNuevo(){this.accion="Nuevo reactivo",this.reactivoForm.reset()}modalEditar(t){this.accion="Editar reactivo",this.reactivoForm.controls.nombre.setValue(t.nombre),this.reactivoForm.controls.id.setValue(t.id),this.reactivoForm.controls.marca.setValue(t.marca),this.reactivoForm.controls.cas.setValue(t.cas),this.reactivoForm.controls.riesgo.setValue(t.riesgo),this.reactivoForm.controls.tipo.setValue(t.tipo),this.reactivoForm.controls.unidad.setValue(t.unidad),this.reactivoForm.controls.cantidad.setValue(t.cantidad),this.reactivoForm.controls.hoja_seguridad.setValue(t.hoja_seguridad),this.reactivoForm.controls.categoria_id.setValue(t.categoria_id),this.reactivoForm.controls.area_id.setValue(t.area_id)}onSubmit(){this.btn_disabled=!0,this.inventarioService.storeReactivo(this.reactivoForm.value).subscribe(t=>{200==t.status&&(this.toastr.success(t.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadReactivos(),setTimeout(()=>{this.btn_disabled=!1},2e3))},t=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(t.error.message,"ERROR")})}eliminarReactivo(t){this.inventarioService.deleteReactivo(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadReactivos()),o.success&&(this.toastr.success(o.message||"Operaci\xf3n completada","SUCCESS"),this.loadReactivos())},o=>{this.toastr.error(o.error.message,"ERROR")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(a.qu),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-index-reactivo"]],decls:146,vars:18,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-8","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","nombre","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-4","mb-1"],["matInput","","type","text","placeholder","","formControlName","marca","required","",1,"example-right-align"],["matInput","","type","text","min","1","formControlName","cas","required","",1,"example-right-align"],[1,"col-md-5","mb-1"],["matInput","","type","text","placeholder","","formControlName","riesgo",1,"example-right-align"],["matNativeControl","","formControlName","tipo","required",""],["value","1"],["value","2"],["matInput","","type","text","min","0","placeholder","","formControlName","unidad","required","",1,"example-right-align"],[1,"col-md-3","mb-1"],["matInput","","type","number","min","0","placeholder","","formControlName","cantidad","required","",1,"example-right-align"],[1,"col-md-9","mb-1"],["matInput","","type","text","placeholder","","formControlName","hoja_seguridad",1,"example-right-align"],[1,"col-md-6","mb-1"],["matNativeControl","","formControlName","categoria_id","required",""],[3,"value","selected",4,"ngFor","ngForOf"],["matNativeControl","","formControlName","area_id","required",""],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[3,"value","selected"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de Reactivos"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.modalNuevo()}),e._uU(7," Nuevo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Marca"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Cantidad"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Unidad"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"No. CAS"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Riesgo"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Tipo"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Hoja de S."),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Categor\xeda"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"\xc1rea"),e.qZA(),e._UZ(32,"th"),e.qZA(),e.qZA(),e.TgZ(33,"tbody"),e.YNc(34,N,29,10,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",9),e.TgZ(36,"div",10),e.TgZ(37,"div",11),e.TgZ(38,"div",12),e.TgZ(39,"h4",13),e._uU(40),e.qZA(),e.TgZ(41,"button",14),e.TgZ(42,"span",15),e._uU(43,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"form",16),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(45,"div",17),e._UZ(46,"input",18),e.TgZ(47,"div",19),e.TgZ(48,"div",20),e.TgZ(49,"small",21),e._uU(50,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(51,"hr"),e.TgZ(52,"div",22),e.TgZ(53,"mat-form-field",23),e.TgZ(54,"mat-label"),e._uU(55,"Nombre"),e.qZA(),e._UZ(56,"input",24),e.YNc(57,O,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(58,"div",26),e.TgZ(59,"mat-form-field",23),e.TgZ(60,"mat-label"),e._uU(61,"Marca"),e.qZA(),e._UZ(62,"input",27),e.YNc(63,S,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(64,"div",26),e.TgZ(65,"mat-form-field",23),e.TgZ(66,"mat-label"),e._uU(67,"No. CAS"),e.qZA(),e._UZ(68,"input",28),e.YNc(69,E,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(70,"div",29),e.TgZ(71,"mat-form-field",23),e.TgZ(72,"mat-label"),e._uU(73,"Riesgo"),e.qZA(),e._UZ(74,"input",30),e.YNc(75,J,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(76,"div",26),e.TgZ(77,"mat-form-field",23),e.TgZ(78,"mat-label"),e._uU(79,"Tipo"),e.qZA(),e.TgZ(80,"select",31),e.TgZ(81,"option",32),e._uU(82),e.qZA(),e.TgZ(83,"option",33),e._uU(84),e.qZA(),e.qZA(),e.YNc(85,R,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(86,"div",26),e.TgZ(87,"mat-form-field",23),e.TgZ(88,"mat-label"),e._uU(89,"Unidad"),e.qZA(),e._UZ(90,"input",34),e.YNc(91,k,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(92,"div",35),e.TgZ(93,"mat-form-field",23),e.TgZ(94,"mat-label"),e._uU(95,"Cantidad"),e.qZA(),e._UZ(96,"input",36),e.YNc(97,Q,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(98,"div",37),e.TgZ(99,"mat-form-field",23),e.TgZ(100,"mat-label"),e._uU(101,"Hoja de seguridad (URL) U"),e.qZA(),e._UZ(102,"input",38),e.qZA(),e.qZA(),e.TgZ(103,"div",39),e.TgZ(104,"mat-form-field",23),e.TgZ(105,"mat-label"),e._uU(106,"Categor\xeda"),e.qZA(),e.TgZ(107,"select",40),e.YNc(108,Y,2,3,"option",41),e.qZA(),e.qZA(),e.qZA(),e.TgZ(109,"div",39),e.TgZ(110,"mat-form-field",23),e.TgZ(111,"mat-label"),e._uU(112,"\xc1rea"),e.qZA(),e.TgZ(113,"select",42),e.YNc(114,P,2,3,"option",41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(115,"div",43),e.TgZ(116,"button",44),e._uU(117,"Cerrar"),e.qZA(),e.TgZ(118,"button",45),e._uU(119,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"div",46),e.TgZ(121,"div",10),e.TgZ(122,"div",11),e.TgZ(123,"div",12),e.TgZ(124,"h4",13),e._uU(125,"Eliminar registro"),e.qZA(),e.TgZ(126,"button",14),e.TgZ(127,"span",15),e._uU(128,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(129,"div",17),e.TgZ(130,"div",47),e.TgZ(131,"h3"),e._uU(132,"Est\xe1 seguro de eliminar el registro?"),e.qZA(),e.TgZ(133,"p"),e._uU(134,"Nombre: "),e.TgZ(135,"b"),e._uU(136),e.qZA(),e.qZA(),e._UZ(137,"hr"),e._UZ(138,"br"),e.TgZ(139,"b"),e._uU(140,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(141,"div",43),e.TgZ(142,"button",44),e._uU(143,"Cerrar"),e.qZA(),e.TgZ(144,"button",48),e.NdJ("click",function(){return o.eliminarReactivo(o.reactivoForm.controls.id.value)}),e._uU(145,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(34),e.Q6J("ngForOf",o.reactivos),e.xp6(6),e.Oqu(o.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.reactivoForm),e.xp6(13),e.Q6J("ngIf",null==o.reactivoForm.get("nombre").errors?null:o.reactivoForm.get("nombre").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.reactivoForm.get("marca").errors?null:o.reactivoForm.get("marca").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.reactivoForm.get("cas").errors?null:o.reactivoForm.get("cas").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.reactivoForm.get("riesgo").errors?null:o.reactivoForm.get("riesgo").errors.required),e.xp6(7),e.hij("","KIT"," "),e.xp6(2),e.hij("","UNIDAD"," "),e.xp6(1),e.Q6J("ngIf",null==o.reactivoForm.get("tipo").errors?null:o.reactivoForm.get("tipo").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.reactivoForm.get("unidad").errors?null:o.reactivoForm.get("unidad").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.reactivoForm.get("cantidad").errors?null:o.reactivoForm.get("cantidad").errors.required),e.xp6(11),e.Q6J("ngForOf",o.categorias),e.xp6(6),e.Q6J("ngForOf",o.areas),e.xp6(4),e.Q6J("disabled",!o.reactivoForm.valid||o.btn_disabled),e.xp6(18),e.Oqu(o.reactivoForm.controls.nombre.value))},directives:[m.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.KE,s.hX,c.Nt,a.Q7,m.O5,a.EJ,a.YN,a.Kr,a.qQ,a.wV,s.TO],styles:[""]}),r})()},{path:"proveedor",component:C},{path:"categoria",component:y},{path:"area",component:(()=>{class r{constructor(t,o,i){this.inventarioService=t,this.fb=o,this.toastr=i,this.btn_disabled=!1,this.areas=[],this.accion="Nuevo proveedor",this.areaForm=this.fb.group({nombre:["",a.kI.required],id:["0"]})}ngOnInit(){this.loadareas()}loadareas(){this.inventarioService.getAreas().subscribe(t=>{this.areas=t.body})}modalNuevo(){this.accion="Nueva \xe1rea",this.areaForm.reset()}modalEditar(t){this.accion="Editar categoria",this.areaForm.controls.nombre.setValue(t.nombre),this.areaForm.controls.id.setValue(t.id)}onSubmit(){this.btn_disabled=!0,this.inventarioService.storeArea(this.areaForm.value).subscribe(t=>{200==t.status&&(this.toastr.success(t.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadareas(),setTimeout(()=>{this.btn_disabled=!1},2e3))},t=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(t.error.message,"ERROR")})}eliminarArea(t){this.inventarioService.deleteArea(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadareas()),o.success&&(this.toastr.success(o.message||"Operaci\xf3n completada","SUCCESS"),this.loadareas())},o=>{this.toastr.error(o.error.message,"ERROR")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(a.qu),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-index-area"]],decls:72,vars:8,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-7","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","nombre","required","",1,"example-right-align"],[4,"ngIf"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de \xe1reas de insumos"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.modalNuevo()}),e._uU(7," Nuevo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"tbody"),e.YNc(17,w,11,1,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"h4",13),e._uU(23),e.qZA(),e.TgZ(24,"button",14),e.TgZ(25,"span",15),e._uU(26,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"form",16),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(28,"div",17),e._UZ(29,"input",18),e.TgZ(30,"div",19),e.TgZ(31,"div",20),e.TgZ(32,"small",21),e._uU(33,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(34,"hr"),e.TgZ(35,"div",22),e.TgZ(36,"mat-form-field",23),e.TgZ(37,"mat-label"),e._uU(38,"Nombre"),e.qZA(),e._UZ(39,"input",24),e.YNc(40,j,2,0,"mat-error",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",26),e.TgZ(42,"button",27),e._uU(43,"Cerrar"),e.qZA(),e.TgZ(44,"button",28),e._uU(45,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",29),e.TgZ(47,"div",10),e.TgZ(48,"div",11),e.TgZ(49,"div",12),e.TgZ(50,"h4",13),e._uU(51,"Eliminar registro"),e.qZA(),e.TgZ(52,"button",14),e.TgZ(53,"span",15),e._uU(54,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",17),e.TgZ(56,"div",30),e.TgZ(57,"h3"),e._uU(58,"Est\xe1 seguro de eliminar el registro?"),e.qZA(),e.TgZ(59,"p"),e._uU(60,"Nombre: "),e.TgZ(61,"b"),e._uU(62),e.qZA(),e.qZA(),e._UZ(63,"hr"),e._UZ(64,"br"),e.TgZ(65,"b"),e._uU(66,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",26),e.TgZ(68,"button",27),e._uU(69,"Cerrar"),e.qZA(),e.TgZ(70,"button",31),e.NdJ("click",function(){return o.eliminarArea(o.areaForm.controls.id.value)}),e._uU(71,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(17),e.Q6J("ngForOf",o.areas),e.xp6(6),e.Oqu(o.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.areaForm),e.xp6(13),e.Q6J("ngIf",null==o.areaForm.get("nombre").errors?null:o.areaForm.get("nombre").errors.required),e.xp6(4),e.Q6J("disabled",!o.areaForm.valid||o.btn_disabled),e.xp6(18),e.Oqu(o.areaForm.controls.nombre.value))},directives:[m.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.KE,s.hX,c.Nt,a.Q7,m.O5,s.TO],styles:[""]}),r})()},{path:"compra",component:(()=>{class r{constructor(t,o,i){this.inventarioService=t,this.fb=o,this.toastr=i,this.btn_disabled=!1,this.accion="Nueva compra",this.compra={},this.compras=[],this.reactivo=[],this.reactivos=[],this.proveedores=[],this.lote_reactivos=[],this.lotes_detalle=[],this.compraForm=this.fb.group({factura:[""],fecha:["",a.kI.required],hora:["",a.kI.required],numero:[0],fecha_vencimiento:[""],cantidad:[0],utilizados:[0],activo:[0],alerta:[""],precio:[0],archivo:[],estado:[1],proveedor_id:[0],reactivo_id:[0],id:["0"]}),this.reactivo={numero:0,cantidad:1,utilizados:0,fecha_vencimiento:"",activo:1,alerta:"",precio:0,proveedor_id:0,reactivo_id:0,reactivo:"",proveedor:"",estado:1}}ngOnInit(){this.inventarioService.getReactivos().subscribe(t=>{this.reactivos=t.body}),this.inventarioService.getProveedores().subscribe(t=>{this.proveedores=t.body}),this.loadCompras()}loadCompras(){this.inventarioService.getCompras().subscribe(t=>{this.compras=t.body,this.compras.forEach(o=>{o.entregados=0,o.no_entregados=0,this.inventarioService.getLote(o.id,{}).subscribe(i=>{let d=i.body;o.total=d.length,d.forEach(ge=>{0==ge.estado?o.no_entregados++:o.entregados++})}),o.porcentaje=parseFloat(o.entregados)/o.total})})}modalEditar(t){this.accion="Editar Compra",this.compraForm.controls.id.setValue(t.id),this.compraForm.controls.fecha.setValue(t.fecha),this.compraForm.controls.hora.setValue(t.hora),this.compraForm.controls.factura.setValue(t.factura)}modalDetalle(t){this.lotes_detalle=[],this.compra=t,this.inventarioService.getLote(this.compra.id,{}).subscribe(o=>{this.lotes_detalle=o.body}),this.compraForm.controls.id.setValue(t.id),this.compraForm.controls.fecha.setValue(t.fecha),this.compraForm.controls.hora.setValue(t.hora),this.compraForm.controls.factura.setValue(t.factura)}modalNuevo(){this.accion="Nueva compra",this.compraForm.reset()}modalEliminar(t){this.compra=t}onSubmit(){this.btn_disabled=!0;let t=this.compraForm.value;t.lotes_reactivos=this.lote_reactivos,this.inventarioService.storeCompra(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadCompras(),setTimeout(()=>{this.btn_disabled=!1},2e3),this.lote_reactivos=[])},o=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(o.error.message,"ERROR")})}eliminarCompra(t){this.inventarioService.deleteCompra(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadCompras()),o.success&&(this.toastr.success(o.message||"Operaci\xf3n completada","SUCCESS"),this.loadCompras())},o=>{this.toastr.error(o.error.message,"ERROR")})}agregarReactivo(){let t=Object.assign({},this.reactivo);t.numero=this.compraForm.controls.numero.value,t.cantidad=this.compraForm.controls.cantidad.value,t.precio=this.compraForm.controls.precio.value,t.fecha_vencimiento=this.compraForm.controls.fecha_vencimiento.value,t.estado=this.compraForm.controls.estado.value,t.proveedor_id=this.compraForm.controls.proveedor_id.value,t.reactivo_id=this.compraForm.controls.reactivo_id.value;let o=this.proveedores.filter(d=>d.id==t.proveedor_id);t.proveedor=o[0].nombre;let i=this.reactivos.filter(d=>d.id==t.reactivo_id);t.reactivo=i[0].nombre,this.lote_reactivos.push(t),this.compraForm.controls.numero.setValue(),this.compraForm.controls.precio.setValue(),this.compraForm.controls.cantidad.setValue(),this.compraForm.controls.fecha_vencimiento.setValue()}onFileSelected(){const t=document.querySelector("#file");if("undefined"!=typeof FileReader){const o=new FileReader;o.onload=i=>{this.srcResult=i.target.result},o.readAsArrayBuffer(t.files[0])}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(a.qu),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-index-compra"]],decls:202,vars:25,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-sm","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-eliminar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-danger"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-3","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","factura",1,"example-right-align"],["matInput","","type","date","placeholder","","formControlName","fecha","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-2","mb-1"],["matInput","","type","time","placeholder","","formControlName","hora",1,"example-right-align"],[1,"col-md-4","mb-1"],["matNativeControl","","formControlName","proveedor_id"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","mb-1"],[1,"input-group"],[1,"input-group-prepend"],["id","inputGroupFileAddon01",1,"input-group-text"],[1,"custom-file"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input"],["for","inputGroupFile01",1,"custom-file-label"],["matNativeControl","","formControlName","reactivo_id"],["matInput","","type","text","placeholder","","formControlName","numero",1,"example-right-align"],["matInput","","type","date","placeholder","","formControlName","fecha_vencimiento",1,"example-right-align"],["matInput","","type","number","min","1","placeholder","","formControlName","cantidad",1,"example-right-align"],["matInput","","type","text","placeholder","","formControlName","precio",1,"example-right-align"],["matNativeControl","","formControlName","estado"],["value","1"],["value","0"],[1,"col-md-1","mb-1"],["type","button",1,"btn","btn-block","btn-success",3,"click"],[1,"fas","fa-plus"],["class","table table-sm",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-detalle",1,"modal","fade"],[1,"col-md-2"],[1,"col-md-4"],[1,"progress"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-info"],[1,"btn-group"],["type","button","data-toggle","modal","data-target","#modal-detalle",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye",3,"click"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button",1,"btn","btn-sm","btn-success",3,"routerLink"],[1,"fas","fa-vials"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-trash"],[3,"value"],[1,"table","table-sm"],["class","badge badge-success",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-warning"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de compras"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.modalNuevo()}),e._uU(7," Nuevo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"ID"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Fecha"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Hora"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Factura"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Proveedor"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Progreso"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,M,27,14,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",9),e.TgZ(29,"div",10),e.TgZ(30,"div",11),e.TgZ(31,"div",12),e.TgZ(32,"h4",13),e._uU(33,"Eliminar registro"),e.qZA(),e.TgZ(34,"button",14),e.TgZ(35,"span",15),e._uU(36,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",16),e.TgZ(38,"div",17),e.TgZ(39,"h3"),e._uU(40,"Est\xe1 seguro de eliminar este lote?"),e.qZA(),e.TgZ(41,"p"),e._uU(42,"ID: "),e.TgZ(43,"b"),e._uU(44),e.qZA(),e.qZA(),e.TgZ(45,"p"),e._uU(46,"Fecha: "),e.TgZ(47,"b"),e._uU(48),e.ALo(49,"date"),e.qZA(),e.qZA(),e.TgZ(50,"p"),e._uU(51,"Hora: "),e.TgZ(52,"b"),e._uU(53),e.qZA(),e.qZA(),e.TgZ(54,"p"),e._uU(55,"Reactivos agregados: "),e.TgZ(56,"b"),e._uU(57),e.qZA(),e.qZA(),e._UZ(58,"hr"),e._UZ(59,"br"),e.TgZ(60,"b"),e._uU(61,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",18),e.TgZ(63,"button",19),e._uU(64,"Cerrar"),e.qZA(),e.TgZ(65,"button",20),e.NdJ("click",function(){return o.eliminarCompra(o.compra.id)}),e._uU(66,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",21),e.TgZ(68,"div",22),e.TgZ(69,"div",11),e.TgZ(70,"div",12),e.TgZ(71,"h4",13),e._uU(72),e.qZA(),e.TgZ(73,"button",14),e.TgZ(74,"span",15),e._uU(75,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"form",23),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(77,"div",16),e._UZ(78,"input",24),e.TgZ(79,"div",25),e.TgZ(80,"div",26),e.TgZ(81,"small",27),e._uU(82,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(83,"hr"),e.TgZ(84,"div",28),e.TgZ(85,"mat-form-field",29),e.TgZ(86,"mat-label"),e._uU(87,"Factura"),e.qZA(),e._UZ(88,"input",30),e.qZA(),e.qZA(),e.TgZ(89,"div",28),e.TgZ(90,"mat-form-field",29),e.TgZ(91,"mat-label"),e._uU(92,"Fecha"),e.qZA(),e._UZ(93,"input",31),e.YNc(94,G,2,0,"mat-error",32),e.qZA(),e.qZA(),e.TgZ(95,"div",33),e.TgZ(96,"mat-form-field",29),e.TgZ(97,"mat-label"),e._uU(98,"Hora"),e.qZA(),e._UZ(99,"input",34),e.YNc(100,$,2,0,"mat-error",32),e.qZA(),e.qZA(),e.TgZ(101,"div",35),e.TgZ(102,"mat-form-field",29),e.TgZ(103,"mat-label"),e._uU(104,"Proveedor"),e.qZA(),e.TgZ(105,"select",36),e.YNc(106,z,2,2,"option",37),e.qZA(),e.qZA(),e.qZA(),e.TgZ(107,"div",38),e.TgZ(108,"div",39),e.TgZ(109,"div",40),e.TgZ(110,"span",41),e._uU(111,"Comprobante"),e.qZA(),e.qZA(),e.TgZ(112,"div",42),e._UZ(113,"input",43),e.TgZ(114,"label",44),e._uU(115,"Elegir archivo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"div",38),e.TgZ(117,"div",39),e.TgZ(118,"div",40),e.TgZ(119,"span",41),e._uU(120,"Factura"),e.qZA(),e.qZA(),e.TgZ(121,"div",42),e._UZ(122,"input",43),e.TgZ(123,"label",44),e._uU(124,"Elegir archivo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(125,"hr"),e.TgZ(126,"h4"),e._uU(127,"Agregar reactivos"),e.qZA(),e.TgZ(128,"div",25),e.TgZ(129,"div",38),e.TgZ(130,"mat-form-field",29),e.TgZ(131,"mat-label"),e._uU(132,"Reactivo"),e.qZA(),e.TgZ(133,"select",45),e.YNc(134,H,2,2,"option",37),e.qZA(),e.qZA(),e.qZA(),e.TgZ(135,"div",28),e.TgZ(136,"mat-form-field",29),e.TgZ(137,"mat-label"),e._uU(138,"Numero Lote"),e.qZA(),e._UZ(139,"input",46),e.qZA(),e.qZA(),e.TgZ(140,"div",28),e.TgZ(141,"mat-form-field",29),e.TgZ(142,"mat-label"),e._uU(143,"Fecha Ven."),e.qZA(),e._UZ(144,"input",47),e.qZA(),e.qZA(),e.TgZ(145,"div",28),e.TgZ(146,"mat-form-field",29),e.TgZ(147,"mat-label"),e._uU(148,"Cantidad"),e.qZA(),e._UZ(149,"input",48),e.qZA(),e.qZA(),e.TgZ(150,"div",28),e.TgZ(151,"mat-form-field",29),e.TgZ(152,"mat-label"),e._uU(153,"Precio"),e.qZA(),e._UZ(154,"input",49),e.qZA(),e.qZA(),e.TgZ(155,"div",28),e.TgZ(156,"mat-form-field",29),e.TgZ(157,"mat-label"),e._uU(158,"Estado"),e.qZA(),e.TgZ(159,"select",50),e.TgZ(160,"option",51),e._uU(161,"Entregado"),e.qZA(),e.TgZ(162,"option",52),e._uU(163,"Pendiente de entrega"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(164,"div",53),e.TgZ(165,"a",54),e.NdJ("click",function(){return o.agregarReactivo()}),e._UZ(166,"i",55),e.qZA(),e.qZA(),e.qZA(),e._UZ(167,"hr"),e.TgZ(168,"h4"),e._uU(169,"Listado de reactivos"),e.qZA(),e.YNc(170,W,16,1,"table",56),e.qZA(),e.TgZ(171,"div",18),e.TgZ(172,"button",19),e._uU(173,"Cerrar"),e.qZA(),e.TgZ(174,"button",57),e._uU(175,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(176,"div",58),e.TgZ(177,"div",22),e.TgZ(178,"div",11),e.TgZ(179,"div",12),e.TgZ(180,"h4",13),e._uU(181,"Detalle de la compra"),e.qZA(),e.TgZ(182,"button",14),e.TgZ(183,"span",15),e._uU(184,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(185,"form",23),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(186,"div",16),e._UZ(187,"input",24),e.TgZ(188,"div",25),e.TgZ(189,"div",59),e.TgZ(190,"b"),e._uU(191,"Factura: "),e.qZA(),e.qZA(),e.TgZ(192,"div",60),e._uU(193),e.qZA(),e.qZA(),e.TgZ(194,"h4"),e._uU(195,"Listado de reactivos"),e.qZA(),e.YNc(196,re,16,1,"table",56),e.qZA(),e.TgZ(197,"div",18),e.TgZ(198,"button",19),e._uU(199,"Cerrar"),e.qZA(),e.TgZ(200,"button",57),e._uU(201,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(27),e.Q6J("ngForOf",o.compras),e.xp6(17),e.Oqu(o.compra.id),e.xp6(4),e.Oqu(e.Dn7(49,21,o.compra.fecha,"dd-MM-yyyy","UTC +6")),e.xp6(5),e.Oqu(o.compra.procedencia),e.xp6(4),e.Oqu(o.compra.reactivos),e.xp6(15),e.Oqu(o.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.compraForm),e.xp6(18),e.Q6J("ngIf",null==o.compraForm.get("fecha").errors?null:o.compraForm.get("fecha").errors.required),e.xp6(6),e.Q6J("ngIf",null==o.compraForm.get("hora").errors?null:o.compraForm.get("hora").errors.required),e.xp6(6),e.Q6J("ngForOf",o.proveedores),e.xp6(28),e.Q6J("ngForOf",o.reactivos),e.xp6(36),e.Q6J("ngIf",o.lote_reactivos),e.xp6(4),e.Q6J("disabled",!o.compraForm.valid||o.btn_disabled),e.xp6(11),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.compraForm),e.xp6(8),e.Oqu(o.compra.factura),e.xp6(3),e.Q6J("ngIf",o.lotes_detalle),e.xp6(4),e.Q6J("disabled",!o.compraForm.valid||o.btn_disabled))},directives:[m.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.KE,s.hX,c.Nt,a.Q7,m.O5,a.EJ,a.qQ,a.wV,a.YN,a.Kr,p.rH,s.TO],pipes:[m.uU],styles:[""]}),r})()},{path:"lote",component:(()=>{class r{constructor(t,o,i){this.inventarioService=t,this.fb=o,this.toastr=i,this.btn_disabled=!1,this.accion="Nuevo lote",this.compra={},this.lotes=[],this.reactivo=[],this.reactivos=[],this.proveedores=[],this.lote_reactivos=[],this.cantidad_maxima=0,this.lote_cantidad=0,this.lote_utilizados=0,this.salidaForm=this.fb.group({fecha:["",a.kI.required],cantidad:["",a.kI.required],lote_id:["",a.kI.required],descripcion:[""],compra:[0],archivo:[],id:["0"]}),this.reactivo={numero:0,cantidad:1,utilizados:0,fecha_vencimiento:"",activo:1,alerta:"",precio:0,proveedor_id:0,reactivo_id:0,reactivo:"",proveedor:""}}ngOnInit(){this.inventarioService.getReactivos().subscribe(t=>{this.reactivos=t.body}),this.inventarioService.getProveedores().subscribe(t=>{this.proveedores=t.body}),this.loadLotes()}loadLotes(){this.inventarioService.getLotes().subscribe(t=>{this.lotes=t.body,this.lotes.forEach(o=>{let i=new Date,d=new Date(o.fecha_vencimiento);var l;l=12*(d.getFullYear()-i.getFullYear()),l-=i.getMonth(),l+=d.getMonth(),o.alerta=l<4?"ALTO":l<7?"MEDIO":"BAJO"})})}modalEditar(t){this.accion="Salida de reactivos: "+t.reactivo+" lote #"+t.numero+" vencimiento: "+t.fecha_vencimiento,this.salidaForm.controls.lote_id.setValue(t.id),this.lote_cantidad=t.cantidad,this.lote_utilizados=t.utilizados,this.cantidad_maxima=this.lote_cantidad-this.lote_utilizados}modalNuevo(){this.accion="Nueva compra",this.salidaForm.reset()}modalEliminar(t){this.compra=t}onSubmit(){this.btn_disabled=!0;let t=this.salidaForm.value;t.lotes_reactivos=this.lote_reactivos,this.inventarioService.storeSalida(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadLotes(),setTimeout(()=>{this.btn_disabled=!1},2e3),this.lote_reactivos=[])},o=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(o.error.message,"ERROR")})}eliminarCompra(t){this.inventarioService.deleteCompra(t).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadLotes()),o.success&&(this.toastr.success(o.message||"Operaci\xf3n completada","SUCCESS"),this.loadLotes())},o=>{this.toastr.error(o.error.message,"ERROR")})}agregarReactivo(){let t=Object.assign({},this.reactivo);t.numero=this.salidaForm.controls.numero.value,t.cantidad=this.salidaForm.controls.cantidad.value,t.precio=this.salidaForm.controls.precio.value,t.fecha_vencimiento=this.salidaForm.controls.fecha_vencimiento.value,t.proveedor_id=this.salidaForm.controls.proveedor_id.value,t.reactivo_id=this.salidaForm.controls.reactivo_id.value;let o=this.proveedores.filter(d=>d.id==t.proveedor_id);t.proveedor=o[0].nombre;let i=this.reactivos.filter(d=>d.id==t.reactivo_id);t.reactivo=i[0].nombre,this.lote_reactivos.push(t)}cambioCompra(){this.cantidad_maxima=1==this.salidaForm.controls.compra.value?1e5:this.lote_cantidad-this.lote_utilizados}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(a.qu),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-index-lote-reactivo"]],decls:113,vars:10,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],[1,"card-body"],[1,"table","table-sm","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-eliminar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-danger"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-3","mb-1"],["appearance","outline",1,"field"],["matInput","","type","date","placeholder","","formControlName","fecha","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-2","mb-1"],["matInput","","type","number","min","1","placeholder","","formControlName","cantidad","required","",1,"example-right-align",3,"max"],["matNativeControl","","formControlName","compra",3,"change"],["value","0"],["value","1"],[1,"col-md-5","mb-1"],[1,"input-group"],[1,"input-group-prepend"],["id","inputGroupFileAddon01",1,"input-group-text"],[1,"custom-file"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input"],["for","inputGroupFile01",1,"custom-file-label"],[1,"col-md-12","mb-1"],["matInput","","type","text","placeholder","","formControlName","descripcion",1,"example-right-align"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"badge",3,"ngClass"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de lotes de reactivos"),e.qZA(),e.qZA(),e._UZ(5,"div",4),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"table",6),e.TgZ(8,"thead"),e.TgZ(9,"tr"),e.TgZ(10,"th"),e._uU(11,"Lote"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Reactivo"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Precio"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Cantidad"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Utilizados"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Fecha Vencimiento"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Alerta"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Proveedor"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"tbody"),e.YNc(29,ne,26,16,"tr",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"div",9),e.TgZ(32,"div",10),e.TgZ(33,"div",11),e.TgZ(34,"h4",12),e._uU(35,"Eliminar registro"),e.qZA(),e.TgZ(36,"button",13),e.TgZ(37,"span",14),e._uU(38,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",15),e.TgZ(40,"div",16),e.TgZ(41,"h3"),e._uU(42,"Est\xe1 seguro de eliminar este lote?"),e.qZA(),e.TgZ(43,"p"),e._uU(44,"ID: "),e.TgZ(45,"b"),e._uU(46),e.qZA(),e.qZA(),e._UZ(47,"hr"),e._UZ(48,"br"),e.TgZ(49,"b"),e._uU(50,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",17),e.TgZ(52,"button",18),e._uU(53,"Cerrar"),e.qZA(),e.TgZ(54,"button",19),e.NdJ("click",function(){return o.eliminarCompra(o.compra.id)}),e._uU(55,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",20),e.TgZ(57,"div",21),e.TgZ(58,"div",10),e.TgZ(59,"div",11),e.TgZ(60,"h4",12),e._uU(61),e.qZA(),e.TgZ(62,"button",13),e.TgZ(63,"span",14),e._uU(64,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"form",22),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(66,"div",15),e._UZ(67,"input",23),e.TgZ(68,"div",24),e.TgZ(69,"div",25),e.TgZ(70,"small",26),e._uU(71,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(72,"hr"),e.TgZ(73,"div",27),e.TgZ(74,"mat-form-field",28),e.TgZ(75,"mat-label"),e._uU(76,"Fecha"),e.qZA(),e._UZ(77,"input",29),e.YNc(78,de,2,0,"mat-error",30),e.qZA(),e.qZA(),e.TgZ(79,"div",31),e.TgZ(80,"mat-form-field",28),e.TgZ(81,"mat-label"),e._uU(82,"Cantidad"),e.qZA(),e._UZ(83,"input",32),e.YNc(84,se,2,0,"mat-error",30),e.qZA(),e.qZA(),e.TgZ(85,"div",31),e.TgZ(86,"mat-form-field",28),e.TgZ(87,"mat-label"),e._uU(88,"Es ingreso o egreso?"),e.qZA(),e.TgZ(89,"select",33),e.NdJ("change",function(){return o.cambioCompra()}),e.TgZ(90,"option",34),e._uU(91,"Egreso"),e.qZA(),e.TgZ(92,"option",35),e._uU(93,"Ingreso"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"div",36),e.TgZ(95,"div",37),e.TgZ(96,"div",38),e.TgZ(97,"span",39),e._uU(98,"Comprobante"),e.qZA(),e.qZA(),e.TgZ(99,"div",40),e._UZ(100,"input",41),e.TgZ(101,"label",42),e._uU(102,"Escoger archivo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(103,"div",43),e.TgZ(104,"mat-form-field",28),e.TgZ(105,"mat-label"),e._uU(106,"Descripci\xf3n"),e.qZA(),e._UZ(107,"input",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(108,"div",17),e.TgZ(109,"button",18),e._uU(110,"Cerrar"),e.qZA(),e.TgZ(111,"button",45),e._uU(112,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(29),e.Q6J("ngForOf",o.lotes),e.xp6(17),e.Oqu(o.compra.id),e.xp6(15),e.Oqu(o.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",o.salidaForm),e.xp6(13),e.Q6J("ngIf",null==o.salidaForm.get("fecha").errors?null:o.salidaForm.get("fecha").errors.required),e.xp6(5),e.Q6J("max",o.cantidad_maxima),e.xp6(1),e.Q6J("ngIf",null==o.salidaForm.get("cantidad").errors?null:o.salidaForm.get("cantidad").errors.required),e.xp6(27),e.Q6J("disabled",!o.salidaForm.valid||o.btn_disabled))},directives:[m.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.KE,s.hX,c.Nt,a.Q7,m.O5,a.qQ,a.wV,a.Fd,a.EJ,a.YN,a.Kr,m.mk,s.TO],pipes:[m.uU],styles:[""]}),r})()},{path:"**",redirectTo:"index"}];let me=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.Bz.forChild(le)],p.Bz]}),r})();var ue=u(7441),ce=u(2613);let Ze=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.ez,me,a.u5,a.UX,c.c,s.lN,ue.LD,ce.Fk]]}),r})()}}]);