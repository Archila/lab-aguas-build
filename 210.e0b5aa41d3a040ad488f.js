"use strict";(self.webpackChunkLab_aguas_cunoc=self.webpackChunkLab_aguas_cunoc||[]).push([[210],{8210:(x,d,n)=>{n.r(d),n.d(d,{ConfiguracionModule:()=>U});var l=n(8583),e=n(665),s=n(8295),Z=n(7441),f=n(2613),g=n(9983),m=n(9516),o=n(3018),p=n(1537),T=n(9344),b=n(5763);function q(r,a){if(1&r){const i=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o.TgZ(8,"div",36),o.TgZ(9,"button",37),o._UZ(10,"i",38),o.qZA(),o.TgZ(11,"button",39),o.NdJ("click",function(){const u=o.CHM(i).$implicit;return o.oxw().modalEditar(u)}),o._UZ(12,"i",40),o.qZA(),o.TgZ(13,"button",41),o.NdJ("click",function(){const u=o.CHM(i).$implicit;return o.oxw().modalEditar(u)}),o._UZ(14,"i",42),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&r){const i=a.$implicit;o.xp6(2),o.Oqu(i.tipo),o.xp6(2),o.Oqu(i.descripcion),o.xp6(2),o.Oqu(i.valor)}}function A(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Por favor ingresar tipo de configuraci\xf3n"),o.qZA())}function v(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Por favor ingrese un valor"),o.qZA())}function C(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Por favor ingrese descripci\xf3n de la configuraci\xf3n"),o.qZA())}const h=[{path:"index",component:(()=>{class r{constructor(i,t,c,u){this.configuracionService=i,this.fb=t,this.toastr=c,this.usuarioService=u,this.btn_disabled=!1,this.configuraciones=[],this.accion="Nuevo cliente",this.roles_permitidos=[1],this.configuracionForm=this.fb.group({tipo:["",e.kI.required],descripcion:["",e.kI.required],valor:["",e.kI.required],id:["0"]})}ngOnInit(){this.usuarioService.validarPermisos(this.roles_permitidos),this.loadClientes()}loadClientes(){this.configuracionService.getConfiguraciones().subscribe(i=>{this.configuraciones=i.body})}modalNuevo(){this.accion="Nueva configuraci\xf3n",this.configuracionForm.reset()}modalEditar(i){this.accion="Editar configuraci\xf3n",this.configuracionForm.controls.tipo.setValue(i.tipo),this.configuracionForm.controls.descripcion.setValue(i.descripcion),this.configuracionForm.controls.id.setValue(i.id),this.configuracionForm.controls.valor.setValue(i.valor)}onSubmit(){this.btn_disabled=!0,this.configuracionService.storeConfiguracion(this.configuracionForm.value).subscribe(i=>{200==i.status&&(this.toastr.success(i.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes(),setTimeout(()=>{this.btn_disabled=!1},2e3))},i=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(i.error.message,"ERROR")})}eliminarCliente(i){this.configuracionService.deleteConfiguracion(i).subscribe(t=>{200==t.status&&(this.toastr.success(t.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes()),t.success&&(this.toastr.success(t.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes())},t=>{this.toastr.error(t.error.message,"ERROR")})}}return r.\u0275fac=function(i){return new(i||r)(o.Y36(p.P),o.Y36(e.qu),o.Y36(T._W),o.Y36(b.i))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-index-configuracion"]],decls:96,vars:12,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-8","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","tipo","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-4","mb-1"],["matInput","","type","text","placeholder","","formControlName","valor","required","",1,"example-right-align"],[1,"col-md-12","mb-1"],["matInput","","type","text","placeholder","","formControlName","descripcion","required","",1,"example-right-align"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(i,t){1&i&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h5",3),o._uU(4,"Listado de configuraciones"),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"button",5),o.NdJ("click",function(){return t.modalNuevo()}),o._uU(7," Nuevo "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",6),o.TgZ(9,"table",7),o.TgZ(10,"thead"),o.TgZ(11,"tr"),o.TgZ(12,"th"),o._uU(13,"Tipo"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Descripci\xf3n"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Valor"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Acciones"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"tbody"),o.YNc(21,q,15,3,"tr",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",9),o.TgZ(23,"div",10),o.TgZ(24,"div",11),o.TgZ(25,"div",12),o.TgZ(26,"h4",13),o._uU(27),o.qZA(),o.TgZ(28,"button",14),o.TgZ(29,"span",15),o._uU(30,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"form",16),o.NdJ("ngSubmit",function(){return t.onSubmit()}),o.TgZ(32,"div",17),o._UZ(33,"input",18),o.TgZ(34,"div",19),o.TgZ(35,"div",20),o.TgZ(36,"small",21),o._uU(37,"* Campos obligatorios"),o.qZA(),o.qZA(),o._UZ(38,"hr"),o.TgZ(39,"div",22),o.TgZ(40,"mat-form-field",23),o.TgZ(41,"mat-label"),o._uU(42,"Tipo"),o.qZA(),o._UZ(43,"input",24),o.YNc(44,A,2,0,"mat-error",25),o.qZA(),o.qZA(),o.TgZ(45,"div",26),o.TgZ(46,"mat-form-field",23),o.TgZ(47,"mat-label"),o._uU(48,"Valor"),o.qZA(),o._UZ(49,"input",27),o.YNc(50,v,2,0,"mat-error",25),o.qZA(),o.qZA(),o.TgZ(51,"div",28),o.TgZ(52,"mat-form-field",23),o.TgZ(53,"mat-label"),o._uU(54,"Descripci\xf3n"),o.qZA(),o._UZ(55,"input",29),o.YNc(56,C,2,0,"mat-error",25),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",30),o.TgZ(58,"button",31),o._uU(59,"Cerrar"),o.qZA(),o.TgZ(60,"button",32),o._uU(61,"Guardar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(62,"div",33),o.TgZ(63,"div",10),o.TgZ(64,"div",11),o.TgZ(65,"div",12),o.TgZ(66,"h4",13),o._uU(67,"Eliminar registro"),o.qZA(),o.TgZ(68,"button",14),o.TgZ(69,"span",15),o._uU(70,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(71,"div",17),o.TgZ(72,"div",34),o.TgZ(73,"h3"),o._uU(74,"Est\xe1 seguro de eliminar el registro?"),o.qZA(),o.TgZ(75,"p"),o._uU(76,"Tipo: "),o.TgZ(77,"b"),o._uU(78),o.qZA(),o.qZA(),o.TgZ(79,"p"),o._uU(80,"Descripci\xf3n: "),o.TgZ(81,"b"),o._uU(82),o.qZA(),o.qZA(),o.TgZ(83,"p"),o._uU(84,"Valor: "),o.TgZ(85,"b"),o._uU(86),o.qZA(),o.qZA(),o._UZ(87,"hr"),o._UZ(88,"br"),o.TgZ(89,"b"),o._uU(90,"Esta acci\xf3n no se puede deshacer!!"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(91,"div",30),o.TgZ(92,"button",31),o._uU(93,"Cerrar"),o.qZA(),o.TgZ(94,"button",35),o.NdJ("click",function(){return t.eliminarCliente(t.configuracionForm.controls.id.value)}),o._uU(95,"Eliminar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(21),o.Q6J("ngForOf",t.configuraciones),o.xp6(6),o.Oqu(t.accion),o.xp6(4),o.Udp("font-size",15,"px"),o.Q6J("formGroup",t.configuracionForm),o.xp6(13),o.Q6J("ngIf",null==t.configuracionForm.get("tipo").errors?null:t.configuracionForm.get("tipo").errors.required),o.xp6(6),o.Q6J("ngIf",null==t.configuracionForm.get("valor").errors?null:t.configuracionForm.get("valor").errors.required),o.xp6(6),o.Q6J("ngIf",null==t.configuracionForm.get("descripcion").errors?null:t.configuracionForm.get("descripcion").errors.required),o.xp6(4),o.Q6J("disabled",!t.configuracionForm.valid||t.btn_disabled),o.xp6(18),o.Oqu(t.configuracionForm.controls.tipo.value),o.xp6(4),o.Oqu(t.configuracionForm.controls.descripcion.value),o.xp6(4),o.Oqu(t.configuracionForm.controls.valor.value))},directives:[l.sg,e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,s.KE,s.hX,g.Nt,e.Q7,l.O5,s.TO],styles:[""]}),r})()},{path:"**",redirectTo:"index"}];let _=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[m.Bz.forChild(h)],m.Bz]}),r})(),U=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[l.ez,_,e.u5,e.UX,g.c,s.lN,Z.LD,f.Fk]]}),r})()}}]);