"use strict";(self.webpackChunkLab_aguas_cunoc=self.webpackChunkLab_aguas_cunoc||[]).push([[554],{9554:(N,u,l)=>{l.r(u),l.d(u,{ClienteModule:()=>I});var m=l(8583),s=l(9516),i=l(665),e=l(3018),g=l(932),p=l(9344),c=l(8295),Z=l(9983);function f(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",41),e.TgZ(15,"button",42),e._UZ(16,"i",43),e.qZA(),e.TgZ(17,"button",44),e.NdJ("click",function(){const d=e.CHM(o).$implicit;return e.oxw().modalEditar(d)}),e._UZ(18,"i",45),e.qZA(),e.TgZ(19,"button",46),e.NdJ("click",function(){const d=e.CHM(o).$implicit;return e.oxw().modalEditar(d)}),e._UZ(20,"i",47),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.codigo),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Oqu(o.telefono),e.xp6(2),e.Oqu(o.correo),e.xp6(2),e.Oqu(o.direccion),e.xp6(2),e.Oqu(o.ubicacion)}}function T(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar nombre del cliente"),e.qZA())}function b(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese identificador para el cliente"),e.qZA())}function q(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese su n\xfamero de DPI"),e.qZA())}function A(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar correo electr\xf3nico"),e.qZA())}function C(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingrese n\xfamero de tel\xe9fono"),e.qZA())}function _(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Por favor ingresar correo electr\xf3nico"),e.qZA())}function h(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Correo electr\xf3nico no v\xe1lido"),e.qZA())}const U=[{path:"index",component:(()=>{class t{constructor(o,r,a){this.clienteService=o,this.fb=r,this.toastr=a,this.btn_disabled=!1,this.clientes=[],this.accion="Nuevo cliente",this.clienteForm=this.fb.group({nombre:["",i.kI.required],codigo:["",i.kI.required],telefono:["",i.kI.required],direccion:["",i.kI.required],correo:["",[i.kI.required,i.kI.email]],ubicacion:["",i.kI.required],contacto:[""],id:["0"]})}ngOnInit(){this.loadClientes()}loadClientes(){this.clienteService.getClientes().subscribe(o=>{this.clientes=o.body})}modalNuevo(){this.accion="Nuevo cliente",this.clienteForm.reset()}modalEditar(o){this.accion="Editar cliente",this.clienteForm.controls.nombre.setValue(o.nombre),this.clienteForm.controls.codigo.setValue(o.codigo),this.clienteForm.controls.id.setValue(o.id),this.clienteForm.controls.telefono.setValue(o.telefono),this.clienteForm.controls.direccion.setValue(o.direccion),this.clienteForm.controls.correo.setValue(o.correo),this.clienteForm.controls.ubicacion.setValue(o.ubicacion),this.clienteForm.controls.contacto.setValue(o.contacto)}onSubmit(){this.btn_disabled=!0,this.clienteService.storeCliente(this.clienteForm.value).subscribe(o=>{200==o.status&&(this.toastr.success(o.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes(),setTimeout(()=>{this.btn_disabled=!1},2e3))},o=>{setTimeout(()=>{this.btn_disabled=!1},2e3),this.toastr.error(o.error.message,"ERROR")})}eliminarCliente(o){this.clienteService.deleteCliente(o).subscribe(r=>{200==r.status&&(this.toastr.success(r.body.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes()),r.success&&(this.toastr.success(r.message||"Operaci\xf3n completada","SUCCESS"),this.loadClientes())},r=>{this.toastr.error(r.error.message,"ERROR")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.$),e.Y36(i.qu),e.Y36(p._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-index-cliente"]],decls:126,vars:16,consts:[[1,"card"],[1,"card-header","row"],[1,"col-md-11"],[1,""],[1,"col-md-1"],["data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"card-body"],[1,"table","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","modal-editar",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-12","mb-1"],[2,"color","red"],[1,"col-md-8","mb-1"],["appearance","outline",1,"field"],["matInput","","type","text","placeholder","","formControlName","nombre","required","",1,"example-right-align"],[4,"ngIf"],[1,"col-md-4","mb-1"],["matInput","","type","text","placeholder","","formControlName","codigo","required","",1,"example-right-align"],[1,"col-md-7","mb-1"],["matInput","","type","text","placeholder","","formControlName","direccion","required","",1,"example-right-align"],[1,"col-md-5","mb-1"],["matInput","","type","email","placeholder","Quetzaltenango","formControlName","ubicacion","required","",1,"example-right-align"],["matInput","","type","text","placeholder","","formControlName","telefono","required","",1,"example-right-align"],["matInput","","type","email","placeholder","example@gmail.com","formControlName","correo","required","",1,"example-right-align"],["matInput","","type","text","placeholder","","formControlName","contacto",1,"example-right-align"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","modal-eliminar",1,"modal","fade"],["role","alert",1,"alert","alert-danger"],["type","submit","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info"],[1,"fas","fa-eye"],["type","button","data-toggle","modal","data-target","#modal-editar",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],["type","button","data-toggle","modal","data-target","#modal-eliminar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Listado de clientes"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return r.modalNuevo()}),e._uU(7," Nuevo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"C\xf3digo"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Tel\xe9fono"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Correo"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Direccion"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Ubicaci\xf3n"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,f,21,6,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",9),e.TgZ(29,"div",10),e.TgZ(30,"div",11),e.TgZ(31,"div",12),e.TgZ(32,"h4",13),e._uU(33),e.qZA(),e.TgZ(34,"button",14),e.TgZ(35,"span",15),e._uU(36,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"form",16),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(38,"div",17),e._UZ(39,"input",18),e.TgZ(40,"div",19),e.TgZ(41,"div",20),e.TgZ(42,"small",21),e._uU(43,"* Campos obligatorios"),e.qZA(),e.qZA(),e._UZ(44,"hr"),e.TgZ(45,"div",22),e.TgZ(46,"mat-form-field",23),e.TgZ(47,"mat-label"),e._uU(48,"Nombre"),e.qZA(),e._UZ(49,"input",24),e.YNc(50,T,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(51,"div",26),e.TgZ(52,"mat-form-field",23),e.TgZ(53,"mat-label"),e._uU(54,"C\xf3digo"),e.qZA(),e._UZ(55,"input",27),e.YNc(56,b,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(57,"div",28),e.TgZ(58,"mat-form-field",23),e.TgZ(59,"mat-label"),e._uU(60,"Direcci\xf3n"),e.qZA(),e._UZ(61,"input",29),e.YNc(62,q,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(63,"div",30),e.TgZ(64,"mat-form-field",23),e.TgZ(65,"mat-label"),e._uU(66,"Ubicaci\xf3n"),e.qZA(),e._UZ(67,"input",31),e.YNc(68,A,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(69,"div",26),e.TgZ(70,"mat-form-field",23),e.TgZ(71,"mat-label"),e._uU(72,"Tel\xe9fono"),e.qZA(),e._UZ(73,"input",32),e.YNc(74,C,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(75,"div",22),e.TgZ(76,"mat-form-field",23),e.TgZ(77,"mat-label"),e._uU(78,"Correo electr\xf3nico"),e.qZA(),e._UZ(79,"input",33),e.YNc(80,_,2,0,"mat-error",25),e.YNc(81,h,2,0,"mat-error",25),e.qZA(),e.qZA(),e.TgZ(82,"div",22),e.TgZ(83,"mat-form-field",23),e.TgZ(84,"mat-label"),e._uU(85,"Cont\xe1cto"),e.qZA(),e._UZ(86,"input",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"div",35),e.TgZ(88,"button",36),e._uU(89,"Cerrar"),e.qZA(),e.TgZ(90,"button",37),e._uU(91,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(92,"div",38),e.TgZ(93,"div",10),e.TgZ(94,"div",11),e.TgZ(95,"div",12),e.TgZ(96,"h4",13),e._uU(97,"Eliminar registro"),e.qZA(),e.TgZ(98,"button",14),e.TgZ(99,"span",15),e._uU(100,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(101,"div",17),e.TgZ(102,"div",39),e.TgZ(103,"h3"),e._uU(104,"Est\xe1 seguro de eliminar el registro?"),e.qZA(),e.TgZ(105,"p"),e._uU(106,"Nombre: "),e.TgZ(107,"b"),e._uU(108),e.qZA(),e.qZA(),e.TgZ(109,"p"),e._uU(110,"Direcci\xf3n: "),e.TgZ(111,"b"),e._uU(112),e.qZA(),e.qZA(),e.TgZ(113,"p"),e._uU(114,"Ubicaci\xf3n: "),e.TgZ(115,"b"),e._uU(116),e.qZA(),e.qZA(),e._UZ(117,"hr"),e._UZ(118,"br"),e.TgZ(119,"b"),e._uU(120,"Esta acci\xf3n no se puede deshacer!!"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(121,"div",35),e.TgZ(122,"button",36),e._uU(123,"Cerrar"),e.qZA(),e.TgZ(124,"button",40),e.NdJ("click",function(){return r.eliminarCliente(r.clienteForm.controls.id.value)}),e._uU(125,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(27),e.Q6J("ngForOf",r.clientes),e.xp6(6),e.Oqu(r.accion),e.xp6(4),e.Udp("font-size",15,"px"),e.Q6J("formGroup",r.clienteForm),e.xp6(13),e.Q6J("ngIf",null==r.clienteForm.get("nombre").errors?null:r.clienteForm.get("nombre").errors.required),e.xp6(6),e.Q6J("ngIf",null==r.clienteForm.get("codigo").errors?null:r.clienteForm.get("codigo").errors.required),e.xp6(6),e.Q6J("ngIf",null==r.clienteForm.get("direccion").errors?null:r.clienteForm.get("direccion").errors.required),e.xp6(6),e.Q6J("ngIf",null==r.clienteForm.get("ubicacion").errors?null:r.clienteForm.get("ubicacion").errors.required),e.xp6(6),e.Q6J("ngIf",null==r.clienteForm.get("telefono").errors?null:r.clienteForm.get("telefono").errors.required),e.xp6(6),e.Q6J("ngIf",null==r.clienteForm.get("correo").errors?null:r.clienteForm.get("correo").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.clienteForm.get("correo").errors?null:r.clienteForm.get("correo").errors.email),e.xp6(9),e.Q6J("disabled",!r.clienteForm.valid||r.btn_disabled),e.xp6(18),e.Oqu(r.clienteForm.controls.nombre.value),e.xp6(4),e.Oqu(r.clienteForm.controls.direccion.value),e.xp6(4),e.Oqu(r.clienteForm.controls.ubicacion.value))},directives:[m.sg,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,c.KE,c.hX,Z.Nt,i.Q7,m.O5,c.TO],styles:[""]}),t})()},{path:"cliente/:id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-editar-cliente"]],decls:2,vars:0,template:function(o,r){1&o&&(e.TgZ(0,"p"),e._uU(1,"editar-cliente works!"),e.qZA())},styles:[""]}),t})()},{path:"**",redirectTo:"index"}];let v=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),t})();var F=l(7441),x=l(2613);let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,v,i.u5,i.UX,Z.c,c.lN,F.LD,x.Fk]]}),t})()}}]);